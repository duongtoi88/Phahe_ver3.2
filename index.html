<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Phả hệ Dương Danh</title>

  <base href="https://duongtoi88.github.io/Phahe_ver3.2/">

  <!-- SheetJS -->
  <script src="https://cdn.sheetjs.com/xlsx-latest/package/dist/xlsx.full.min.js"></script>

  <!-- D3 -->
  <script src="https://d3js.org/d3.v7.min.js"></script>

  <!-- Core scripts -->
  <script defer src="app.js"></script>
  <script defer src="mother-data.js"></script>
  <script defer src="mother-links.js"></script>
  <script defer src="mother-nodes.js"></script>

  <link rel="stylesheet" href="style.css">
</head>

<body>

  <h2>Phả hệ Dương Danh ở Quốc Oai</h2>

  <!-- TAB (không style) -->
  <div>
    <button onclick="switchTab('tree')">CÂY GIA PHẢ</button>
    <button onclick="switchTab('grave')">MỘ CHÍ</button>
  </div>

  <!-- PHẦN ĐIỀU KHIỂN -->
  <div id="controlSection">

    <div style="margin: 10px;">
      <label for="rootSelector"><b>Chọn ID gốc:</b></label>
      <!-- select sẽ được app.js thêm -->
    </div>

    <div style="margin: 0 10px 10px;">
      <label>
        <input type="checkbox" id="showGirls" style="margin-right: 6px;">
        Cả Nam & Nữ
      </label>
    </div>

  </div>

  <!-- TREE -->
  <div id="tree-container"
       style="overflow-x: auto; overflow-y: auto; white-space: nowrap; height: 100vh;">
  </div>

  <!-- GRAVE -->
  <div id="graveSection" style="display:none;"></div>

  <!-- Tooltip -->
  <div id="tooltip" class="tooltip" style="display: none;"></div>

  <!-- Grave script -->
  <script src="grave.js"></script>

  <script>
    function switchTab(tab) {

      if (tab === 'tree') {
        document.getElementById("tree-container").style.display = "block";
        document.getElementById("controlSection").style.display = "block";
        document.getElementById("graveSection").style.display = "none";
      } else {
        document.getElementById("tree-container").style.display = "none";
        document.getElementById("controlSection").style.display = "none";
        document.getElementById("graveSection").style.display = "block";

        if (!window.graveRendered) {
          renderGraveTab();
          window.graveRendered = true;
        }
      }
    }
  </script>

</body>
</html>
